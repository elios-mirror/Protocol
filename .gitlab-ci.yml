image: node:12.1.0

cache:
  paths:
  - node_modules/

stages:
  - test


before_script:
  - npm install -g node-gyp
  - npm install
  - node-gyp configure
  - ls -R build

test_sockets:
  stage: test
  script:
   - node-gyp build .
   - npm test